CREATE TABLE metrics (
    id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    training_id NUMBER NOT NULL,
    participant_count NUMBER DEFAULT 0,
    completion_rate NUMBER(5,2) DEFAULT 0,
    satisfaction_score NUMBER(5,2) DEFAULT 0,
    feedback_count NUMBER DEFAULT 0,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT fk_metrics_training FOREIGN KEY (training_id) REFERENCES training(id),
    CONSTRAINT metrics_completion_rate_check CHECK (completion_rate >= 0 AND completion_rate <= 100),
    CONSTRAINT metrics_satisfaction_score_check CHECK (satisfaction_score >= 0 AND satisfaction_score <= 5)
);

CREATE SEQUENCE metrics_seq START WITH 1 INCREMENT BY 1; 